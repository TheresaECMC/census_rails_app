function initMap(){map=new google.maps.Map(document.getElementById("map"),{zoom:4,center:{lat:32.776,lng:-79.931},mapTypeId:google.maps.MapTypeId.ROADMAP});for(var o in person_info_hash){var e={url:person_info_hash[o].image_url,size:new google.maps.Size(32,32),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(16,16)},a=new google.maps.Marker({position:person_info_hash[o].marker_location,map:map,title:o,icon:e,zIndex:99999}),r=person_info_hash[o].info_window_text;infowindow=new google.maps.InfoWindow,mouseoverAndMouseoutEvents(a,r,infowindow)}console.log(search.query),addBarsToMap(person_info_hash,map,search.query),addCirclesToMap(person_info_hash,map),addSmallerCirclesToMap(circle_one,map),addSmallerCirclesToMap(circle_two,map),addSmallerCirclesToMap(circle_three,map),addSmallerCirclesToMap(circle_four,map)}function addBarsToMap(o,e,a){for(var r in o){var n=new google.maps.places.PlacesService(e);n.nearbySearch({location:o[r].marker_location,radius:o[r].radius,types:a},callback)}}function addCirclesToMap(o,e){for(var a in o)var r=new google.maps.Circle({strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35,map:e,center:o[a].marker_location,radius:o[a].radius})}function addSmallerCirclesToMap(o,e){for(var a in o)var r=new google.maps.Circle({strokeColor:o[a].circle_color,strokeOpacity:.9,strokeWeight:2.5,fillColor:o[a].circle_color,fillOpacity:.05,map:e,center:o[a].marker_location,radius:o[a].api_radius})}function mouseoverAndMouseoutEvents(o,e,a){google.maps.event.addListener(o,"mouseover",function(o,e,a){return function(){a.setContent(e),a.open(map,o)}}(o,e,a)),google.maps.event.addListener(o,"mouseout",function(o,e,a){return function(){a.close()}}(o,e,a))}function callback(o,e){if(e===google.maps.places.PlacesServiceStatus.OK)for(var a=0;a<o.length;a++)createBarMarkers(o[a])}function createBarMarkers(o){new google.maps.Marker({position:o.geometry.location,map:map,title:o.name})}var map,infowindow;